<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Key Detection</title>
  <script type="text/javascript" src="https://www.cornify.com/js/cornify.js"></script>
</head>
<body>

<script>
    // Save key inputs into an array
    const pressed = [];

    const secretCode = ["ArrowUp", "ArrowUp", "ArrowDown", "ArrowDown", "ArrowLeft", "ArrowRight", "ArrowLeft", "ArrowRight"];
    
    // const secretCode = 'catnip';
    console.log('Secret Code ' + secretCode.length);

    window.addEventListener('keyup', (e) => {
        console.log(e.key);
        pressed.push(e.key);
        console.log('Pressed1 ' + pressed + pressed.length);
        // pressed.splice(-secretCode.length - 1, pressed.length - secretCode.length); // Count only last entry that matches lenght of secret code

        console.log('Pressed2 ' + pressed.slice(-5) + pressed.length);
        // if(pressed.join('').includes(secretCode)) {
        //     console.log('WINNING!');
        //     cornify_add();
        // }

        if(pressed == secretCode) {
            console.log('WINNING!');
            cornify_add();
        }
        
    });
</script>

</body>
</html>
